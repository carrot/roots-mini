#!/usr/bin/env node

// TODO: remove this before shipping
require('babel-core/register')

var chalk = require('chalk')
var CLI = require('../lib/cli').default
var cli = new CLI()

cli.on('error', function (err) {
  console.error(chalk.red('ERROR'))
  console.error(err.stack)
})

cli.on('warning', function (warn) {
  console.warn(chalk.yellow('WARNING'))
  console.warn(warn.stack)
})

cli.on('compile', function (res) {
  var compileTime = (res.stats.endTime - res.stats.startTime) / 1000
  console.log(chalk.green('compiled') + ' ' + chalk.gray('(' + compileTime + 's)'))
})

cli.run(process.argv.slice(2))
